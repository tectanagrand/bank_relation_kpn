$(document).ready(function () {

    $.fn.editable.defaults.mode = "inline",
    $.fn.editable.defaults.inputclass = "form-control input-sm";
    $("#businessunit").editable({
        //source: a,
        url: "/StandardField/UpdatePartial",
        params: function (params) {  //params already contain `name`, `value` and `pk`
            var data = {};
            data['Oid'] = $("#Oid").val();
            data['value'] = params.value;
            data['columnName'] = "businessunit";
            return data;
        },
        select2: {
            width: 200,
            placeholder: "Select Business Unit",
            allowClear: !0,
            ajax: {
                url: "/StandardField/GetBusinessUnit",
                dataType: 'json',
                type: "GET",
                quietMillis: 50,
                data: function (term) {
                    return {
                        term: term
                    };
                },
                results: function (data) {
                    return {
                        results: $.map(data, function (item) {
                            return {
                                text: item.businessunitcode,
                                id: item.Oid
                            }
                        })
                    };
                }
            }
        },
        success: function (response) {
           // alert(response);
        }
    });

    $("#fieldstatus").editable({
        //source: a,
        url: "/StandardField/UpdatePartial",
        params: function (params) {  //params already contain `name`, `value` and `pk`
            var data = {};
            data['Oid'] = $("#Oid").val();
            data['value'] = params.value;
            data['columnName'] = "fieldstatus";
            return data;
        },
        select2: {
            width: 200,
            placeholder: "Select fieldstatus",
            allowClear: !0,
            ajax: {
                url: "/StandardField/GetFieldStatus",
                dataType: 'json',
                type: "GET",
                quietMillis: 50,
                data: function (term) {
                    return {
                        term: term
                    };
                },
                results: function (data) {
                    return {
                        results: $.map(data, function (item) {
                            return {
                                text: item.fieldstatuscode,
                                id: item.Oid
                            }
                        })
                    };
                }
            }
        },
        success: function (response) {
           // alert(response);
        }
    });

    $("#division").editable({
        //source: a,
        url: "/StandardField/UpdatePartial",
        params: function (params) {  //params already contain `name`, `value` and `pk`
            var data = {};
            data['Oid'] = $("#Oid").val();
            data['value'] = params.value;
            data['columnName'] = "division";
            return data;
        },
        select2: {
            width: 200,
            placeholder: "Select division",
            allowClear: !0,
            ajax: {
                url: "/StandardField/GetDivision",
                dataType: 'json',
                type: "GET",
                quietMillis: 50,
                data: function (term) {
                    return {
                        term: term
                    };
                },
                results: function (data) {
                    return {
                        results: $.map(data, function (item) {
                            return {
                                text: item.divisioncode,
                                id: item.Oid
                            }
                        })
                    };
                }
            }
        },
        success: function (response) {
           // alert(response);
        }
    });

    $("#harvestingsection").editable({
        //source: a,
        url: "/StandardField/UpdatePartial",
        params: function (params) {  //params already contain `name`, `value` and `pk`
            var data = {};
            data['Oid'] = $("#Oid").val();
            data['value'] = params.value;
            data['columnName'] = "harvestingsection";
            return data;
        },
        select2: {
            width: 200,
            placeholder: "Select harvestingsection",
            allowClear: !0,
            ajax: {
                url: "/StandardField/GetHarvestingSection",
                dataType: 'json',
                type: "GET",
                quietMillis: 50,
                data: function (term) {
                    return {
                        term: term
                    };
                },
                results: function (data) {
                    return {
                        results: $.map(data, function (item) {
                            return {
                                text: item.harvestsectioncode,
                                id: item.Oid
                            }
                        })
                    };
                }
            }
        },
        success: function (response) {
           // alert(response);
        }
    });

    $("#ownership").editable({
        //source: a,
        url: "/StandardField/UpdatePartial",
        params: function (params) {  //params already contain `name`, `value` and `pk`
            var data = {};
            data['Oid'] = $("#Oid").val();
            data['value'] = params.value;
            data['columnName'] = "ownership";
            return data;
        },
        select2: {
            width: 200,
            placeholder: "Select Ownership",
            allowClear: !0,
            ajax: {
                url: "/StandardField/GetOwnership",
                dataType: 'json',
                type: "GET",
                quietMillis: 50,
                data: function (term) {
                    return {
                        term: term
                    };
                },
                results: function (data) {
                    return {
                        results: $.map(data, function (item) {
                            return {
                                text: item.ownershipcode,
                                id: item.Oid
                            }
                        })
                    };
                }
            }
        },
        success: function (response) {
           // alert(response);
        }
    });

    $("#soiltype").editable({
        //source: a,
        url: "/StandardField/UpdatePartial",
        params: function (params) {  //params already contain `name`, `value` and `pk`
            var data = {};
            data['Oid'] = $("#Oid").val();
            data['value'] = params.value;
            data['columnName'] = "soiltype";
            return data;
        },
        select2: {
            width: 200,
            placeholder: "Select SoilType",
            allowClear: !0,
            ajax: {
                url: "/StandardField/GetSoilType",
                dataType: 'json',
                type: "GET",
                quietMillis: 50,
                data: function (term) {
                    return {
                        term: term
                    };
                },
                results: function (data) {
                    return {
                        results: $.map(data, function (item) {
                            return {
                                text: item.soiltypecode,
                                id: item.Oid
                            }
                        })
                    };
                }
            }
        },
        success: function (response) {
           // alert(response);
        }
    });

    $("#croptype").editable({
        //source: a,
        url: "/StandardField/UpdatePartial",
        params: function (params) {  //params already contain `name`, `value` and `pk`
            var data = {};
            data['Oid'] = $("#Oid").val();
            data['value'] = params.value;
            data['columnName'] = "croptype";
            return data;
        },
        select2: {
            width: 200,
            placeholder: "Select CropType",
            allowClear: !0,
            ajax: {
                url: "/StandardField/GetCropType",
                dataType: 'json',
                type: "GET",
                quietMillis: 50,
                data: function (term) {
                    return {
                        term: term
                    };
                },
                results: function (data) {
                    return {
                        results: $.map(data, function (item) {
                            return {
                                text: item.croptypecode,
                                id: item.Oid
                            }
                        })
                    };
                }
            }
        },
        success: function (response) {
           // alert(response);
        }
    });

    $("#terraintype").editable({
        //source: a,
        url: "/StandardField/UpdatePartial",
        params: function (params) {  //params already contain `name`, `value` and `pk`
            var data = {};
            data['Oid'] = $("#Oid").val();
            data['value'] = params.value;
            data['columnName'] = "terraintype";
            return data;
        },
        select2: {
            width: 200,
            placeholder: "Select TerrainType",
            allowClear: !0,
            ajax: {
                url: "/StandardField/GetTerrainType",
                dataType: 'json',
                type: "GET",
                quietMillis: 50,
                data: function (term) {
                    return {
                        term: term
                    };
                },
                results: function (data) {
                    return {
                        results: $.map(data, function (item) {
                            return {
                                text: item.terraintypecode,
                                id: item.Oid
                            }
                        })
                    };
                }
            }
        },
        success: function (response) {
           // alert(response);
        }
    });

});

$(function () {
    //Autocomplite with viewbag
    $("#txtControlModuleCustom").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: '/StandardField/AutoComplete/',
                data: "{ 'prefix': '" + request.term + "'}",
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                success: function (data) {
                    response($.map(data, function (item) {
                        return item;
                    }))
                },
                error: function (response) {
                    alert(response.responseText);
                },
                failure: function (response) {
                    alert(response.responseText);
                }
            });
        },
        select: function (e, i) {
            $("#hfControlModuleCustom").val(i.item.val);
        },
        minLength: 1
    });

    //End Autocomplite with viewbag

    //Cascading LOV with Viewbag
    $("#plantingmaterial").change(function () {
        $("#plantingmaterialclass").empty();
        $.ajax({
            type: 'GET',
            url: "/StandardField/GetPlantingMaterialClass",
            dataType: 'json',
            data: { id: $("#plantingmaterial").val() },
            contentType: "application/json;charset=UTF-8",
            // here we are get value of selected country and passing same value as inputto json method GetStates.  
            success: function (plantingmaterialclasss) {
                // states contains the JSON formatted list  
                // of states passed from the controller  
                $.each(plantingmaterialclasss, function (i, plantingmaterialclass) {
                    $("#plantingmaterialclass").append('<option value="' + plantingmaterialclass.Oid + '">' +
                         plantingmaterialclass.classcode + '</option>');
                    // here we are adding option for States  
                });
            },
            error: function (ex) {
                alert('Failed to retrieve plantingmaterialclass.' + ex);
            }
        });
        return false;
    });
    //End Cascading LOV with Viewbag

});
