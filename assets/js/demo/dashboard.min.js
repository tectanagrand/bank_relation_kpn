/*
Template Name: Color Admin - Responsive Admin Dashboard Template build with Twitter Bootstrap 3 & 4
Version: 4.1.0
Author: Sean Ngu
Website: http://www.seantheme.com/color-admin-v4.1/admin/

*/
var fcba = 'ALL';

function getChart(par) {
    ix = par;
    Dashboard.init();
}

var handleVectorMap=function(){
	"use strict";0!==$("#world-map").length&&$("#world-map").vectorMap({map:"world_mill_en",scaleColors:[COLOR_GREY_DARKER,COLOR_GREY_LIGHTER],normalizeFunction:"polynomial",hoverOpacity:.5,hoverColor:!1,zoomOnScroll:!1,markerStyle:{initial:{fill:COLOR_GREEN,stroke:"transparent",r:3}},regionStyle:{initial:{fill:COLOR_BLACK_LIGHTER,"fill-opacity":1,stroke:"none","stroke-width":.4,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"yellow"},selectedHover:{}},focusOn:{x:.5,y:.5,scale:0},backgroundColor:COLOR_BLACK,markers:[{latLng:[41.9,12.45],name:"Vatican City"},{latLng:[43.73,7.41],name:"Monaco"},{latLng:[-.52,166.93],name:"Nauru"},{latLng:[-8.51,179.21],name:"Tuvalu"},{latLng:[43.93,12.46],name:"San Marino"},{latLng:[47.14,9.52],name:"Liechtenstein"},{latLng:[7.11,171.06],name:"Marshall Islands"},{latLng:[17.3,-62.73],name:"Saint Kitts and Nevis"},{latLng:[3.2,73.22],name:"Maldives"},{latLng:[35.88,14.5],name:"Malta"},{latLng:[12.05,-61.75],name:"Grenada"},{latLng:[13.16,-61.23],name:"Saint Vincent and the Grenadines"},{latLng:[13.16,-59.55],name:"Barbados"},{latLng:[17.11,-61.85],name:"Antigua and Barbuda"},{latLng:[-4.61,55.45],name:"Seychelles"},{latLng:[7.35,134.46],name:"Palau"},{latLng:[42.5,1.51],name:"Andorra"},{latLng:[14.01,-60.98],name:"Saint Lucia"},{latLng:[6.91,158.18],name:"Federated States of Micronesia"},{latLng:[1.3,103.8],name:"Singapore"},{latLng:[1.46,173.03],name:"Kiribati"},{latLng:[-21.13,-175.2],name:"Tonga"},{latLng:[15.3,-61.38],name:"Dominica"},{latLng:[-20.2,57.5],name:"Mauritius"},{latLng:[26.02,50.55],name:"Bahrain"},{latLng:[.33,6.73],name:"São Tomé and Príncipe"}]})},
	handleInteractiveChart=function(){
		"use strict";
		function a(a,e,i){
			$('<div id="tooltip" class="flot-tooltip">'+i+"</div>").css({top:e-45,left:a-55}).appendTo("body").fadeIn(200)
			}
			if(0!==$("#interactive-chart").length){					 
					var url = 'http://10.10.10.94/index.php/Welcome/chart_estate_prod';					
						
					$("#titleChart").text("Cash Flow Chart");
					var t = new Array();
					var e = new Array();
					var b = new Array();
					var rangeReal = 0;
					var rangeBgt = 0;
					var xMax = 0;
					
					$.ajax({
					type: 'GET',
					url : url,
					dataType: 'json',
					contentType: "application/json;charset=UTF-8",
					success: function (result) {
						
						$.each(result, function (i, obj) {
							t.push([i + 1, obj.MONTH]);
							e.push([i + 1, obj.CASHIN]);
							b.push([i + 1, obj.CASHOUT]);
							
							if (rangeReal < Number(obj.CASHIN)){
								rangeReal = Number(obj.CASHIN);
							}
							
							if (rangeBgt < Number(obj.CASHOUT)){
								rangeBgt = Number(obj.CASHOUT);
							}
						});
						
						
						if (rangeBgt > rangeReal){
							xMax = rangeBgt + (rangeBgt * 0.1);
						}else{
							xMax = rangeReal + (rangeReal * 0.1);
						}
							
						$.plot($("#interactive-chart"),
						[{ data: e, label: "Cash in", color: '#4ce61a', lines: { show: !0, fill: !1, lineWidth: 2 }, points: { show: !0, radius: 3, fillColor: COLOR_WHITE }, shadowSize: 0 },
						{
							data: b, label: "Cash out", color: COLOR_RED, lines: {
								show: !0, fill: !1, lineWidth: 2
							}, points: { show: !0, radius: 3, fillColor: COLOR_WHITE }, shadowSize: 0
						}], {
							xaxis: { ticks: t, tickDecimals: 0, tickColor: COLOR_BLACK_TRANSPARENT_2, }, 
							yaxis: { ticks: 10, tickColor: COLOR_BLACK_TRANSPARENT_2, min: 0, max: xMax }, 
							grid: { hoverable: !0, clickable: !0, tickColor: COLOR_BLACK_TRANSPARENT_2, borderWidth: 1, backgroundColor: 'transparent', borderColor: COLOR_BLACK_TRANSPARENT_2 }, legend: { labelBoxBorderColor: COLOR_BLACK_TRANSPARENT_2, margin: 10, noColumns: 1, show: !0 }
						}); 
						var l = null; 
						$("#interactive-chart").bind("plothover", function (e, i, t) { if ($("#x").text(i.x.toFixed(2)), $("#y").text(i.y.toFixed(2)), t) { if (l !== t.dataIndex) { l = t.dataIndex, $("#tooltip").remove(); var n = "IDR "+t.datapoint[1].toFixed(0), o = t.series.label + " " + n; a(t.pageX, t.pageY, o) } } else $("#tooltip").remove(), l = null; e.preventDefault() })
					}
					});
			}
			},
Dashboard=function(){"use strict";return{init:function(){handleInteractiveChart()}}}();